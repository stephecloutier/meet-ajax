;(function(){"use strict";var $form=void 0,$tplErrorMessage=void 0,$tplBuddy=void 0,$buddiesContainer=void 0;var fHandleSubmit=function fHandleSubmit(oEvent){var $nameInput=$form.find("input[name='name']"),$descriptionTextarea=$form.find("textarea[name='description']"),sName=void 0,sDescription=void 0,bHasErrors=false;oEvent.preventDefault();$form.find(".has-error").removeClass("has-error");$form.find('.alert.alert-danger').remove();sName=($nameInput.val()||"").trim();sDescription=($descriptionTextarea.val()||"").trim();if(!sName){bHasErrors=true;$nameInput.parent().addClass("has-error");}if(!sDescription){bHasErrors=true;$descriptionTextarea.parent().addClass("has-error");}if(bHasErrors){$form.find("fieldset").prepend($tplErrorMessage.clone());return console.error("Form has errors.");}$.ajax($form.attr("action"),{"method":"POST","dataType":"json","data":{"name":sName,"description":sDescription},"error":function error(oXHR,sStatus,sError){console.error(sStatus,sError);},"success":function success(oResponse){var $buddy=$tplBuddy.clone();$buddy.find(".thumbnail").attr("title",oResponse.description).find("img").attr("src",oResponse.avatar).attr("alt",oResponse.alt).end().find("strong").text(oResponse.name);$buddiesContainer.append($buddy);$form[0].reset();}});};var fHandleCleanBuddies=function fHandleCleanBuddies(oEvent){oEvent.preventDefault();$.get($(this).attr("href"));$buddiesContainer.empty();};$(function(){($form=$("form")).on("submit",fHandleSubmit);$tplErrorMessage=$($("#form-error-message").html());$tplBuddy=$($("#buddy-element").html());$buddiesContainer=$("#buddies-container");$("#clean-buddies").on("click",fHandleCleanBuddies);});})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkZm9ybSIsIiR0cGxFcnJvck1lc3NhZ2UiLCIkdHBsQnVkZHkiLCIkYnVkZGllc0NvbnRhaW5lciIsImZIYW5kbGVTdWJtaXQiLCJvRXZlbnQiLCIkbmFtZUlucHV0IiwiZmluZCIsIiRkZXNjcmlwdGlvblRleHRhcmVhIiwic05hbWUiLCJzRGVzY3JpcHRpb24iLCJiSGFzRXJyb3JzIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsInZhbCIsInRyaW0iLCJwYXJlbnQiLCJhZGRDbGFzcyIsInByZXBlbmQiLCJjbG9uZSIsImNvbnNvbGUiLCJlcnJvciIsIiQiLCJhamF4IiwiYXR0ciIsIm9YSFIiLCJzU3RhdHVzIiwic0Vycm9yIiwib1Jlc3BvbnNlIiwiJGJ1ZGR5IiwiZGVzY3JpcHRpb24iLCJhdmF0YXIiLCJhbHQiLCJlbmQiLCJ0ZXh0IiwibmFtZSIsImFwcGVuZCIsInJlc2V0IiwiZkhhbmRsZUNsZWFuQnVkZGllcyIsImdldCIsImVtcHR5Iiwib24iLCJodG1sIl0sIm1hcHBpbmdzIjoiMEJBUUEsR0FBSUEsYUFBSixDQUNJQyx1QkFESixDQUVJQyxnQkFGSixDQUdJQyx3QkFISixDQUtBLEdBQU1DLGVBQWdCLFFBQWhCQSxjQUFnQixDQUFTQyxNQUFULENBQWlCLENBQ25DLEdBQUlDLFlBQWFOLE1BQU1PLElBQU4sQ0FBVyxvQkFBWCxDQUFqQixDQUNJQyxxQkFBdUJSLE1BQU1PLElBQU4sQ0FBVyw4QkFBWCxDQUQzQixDQUVJRSxZQUZKLENBRVdDLG1CQUZYLENBR0lDLFdBQWEsS0FIakIsQ0FLQU4sT0FBT08sY0FBUCxHQUVBWixNQUFNTyxJQUFOLENBQVcsWUFBWCxFQUF5Qk0sV0FBekIsQ0FBcUMsV0FBckMsRUFDQWIsTUFBTU8sSUFBTixDQUFXLHFCQUFYLEVBQWtDTyxNQUFsQyxHQUVBTCxNQUFRLENBQUNILFdBQVdTLEdBQVgsSUFBb0IsRUFBckIsRUFBeUJDLElBQXpCLEVBQVIsQ0FDQU4sYUFBZSxDQUFDRixxQkFBcUJPLEdBQXJCLElBQThCLEVBQS9CLEVBQW1DQyxJQUFuQyxFQUFmLENBRUEsR0FBRyxDQUFDUCxLQUFKLENBQVcsQ0FDUEUsV0FBYSxJQUFiLENBQ0FMLFdBQVdXLE1BQVgsR0FBb0JDLFFBQXBCLENBQTZCLFdBQTdCLEVBQ0gsQ0FFRCxHQUFHLENBQUNSLFlBQUosQ0FBa0IsQ0FDZEMsV0FBYSxJQUFiLENBQ0FILHFCQUFxQlMsTUFBckIsR0FBOEJDLFFBQTlCLENBQXVDLFdBQXZDLEVBQ0gsQ0FFRCxHQUFHUCxVQUFILENBQWUsQ0FDWFgsTUFBTU8sSUFBTixDQUFXLFVBQVgsRUFBdUJZLE9BQXZCLENBQStCbEIsaUJBQWlCbUIsS0FBakIsRUFBL0IsRUFDQSxNQUFPQyxTQUFRQyxLQUFSLENBQWMsa0JBQWQsQ0FBUCxDQUNILENBRURDLEVBQUVDLElBQUYsQ0FBT3hCLE1BQU15QixJQUFOLENBQVcsUUFBWCxDQUFQLENBQTZCLENBQ3pCLFNBQVUsTUFEZSxDQUV6QixXQUFZLE1BRmEsQ0FHekIsT0FBUSxDQUNKLE9BQVFoQixLQURKLENBRUosY0FBZUMsWUFGWCxDQUhpQixDQU96QixRQUFTLGVBQVNnQixJQUFULENBQWVDLE9BQWYsQ0FBd0JDLE1BQXhCLENBQWdDLENBQ3JDUCxRQUFRQyxLQUFSLENBQWNLLE9BQWQsQ0FBdUJDLE1BQXZCLEVBQ0gsQ0FUd0IsQ0FVekIsVUFBVyxpQkFBU0MsU0FBVCxDQUFvQixDQUMzQixHQUFJQyxRQUFTNUIsVUFBVWtCLEtBQVYsRUFBYixDQUVBVSxPQUNLdkIsSUFETCxDQUNVLFlBRFYsRUFFU2tCLElBRlQsQ0FFYyxPQUZkLENBRXVCSSxVQUFVRSxXQUZqQyxFQUdTeEIsSUFIVCxDQUdjLEtBSGQsRUFJYWtCLElBSmIsQ0FJa0IsS0FKbEIsQ0FJeUJJLFVBQVVHLE1BSm5DLEVBS2FQLElBTGIsQ0FLa0IsS0FMbEIsQ0FLeUJJLFVBQVVJLEdBTG5DLEVBTWFDLEdBTmIsR0FPUzNCLElBUFQsQ0FPYyxRQVBkLEVBUWE0QixJQVJiLENBUWtCTixVQUFVTyxJQVI1QixFQVNBakMsa0JBQWtCa0MsTUFBbEIsQ0FBeUJQLE1BQXpCLEVBRUE5QixNQUFNLENBQU4sRUFBU3NDLEtBQVQsR0FDSCxDQXpCd0IsQ0FBN0IsRUEyQkgsQ0F4REQsQ0EwREEsR0FBTUMscUJBQXNCLFFBQXRCQSxvQkFBc0IsQ0FBVWxDLE1BQVYsQ0FBa0IsQ0FDMUNBLE9BQU9PLGNBQVAsR0FFQVcsRUFBRWlCLEdBQUYsQ0FBTWpCLEVBQUUsSUFBRixFQUFRRSxJQUFSLENBQWEsTUFBYixDQUFOLEVBQ0F0QixrQkFBa0JzQyxLQUFsQixHQUNILENBTEQsQ0FPQWxCLEVBQUUsVUFBVyxDQUNULENBQUN2QixNQUFRdUIsRUFBRSxNQUFGLENBQVQsRUFBb0JtQixFQUFwQixDQUF1QixRQUF2QixDQUFpQ3RDLGFBQWpDLEVBQ0FILGlCQUFtQnNCLEVBQUVBLEVBQUUscUJBQUYsRUFBeUJvQixJQUF6QixFQUFGLENBQW5CLENBQ0F6QyxVQUFZcUIsRUFBRUEsRUFBRSxnQkFBRixFQUFvQm9CLElBQXBCLEVBQUYsQ0FBWixDQUNBeEMsa0JBQW9Cb0IsRUFBRSxvQkFBRixDQUFwQixDQUNBQSxFQUFFLGdCQUFGLEVBQW9CbUIsRUFBcEIsQ0FBdUIsT0FBdkIsQ0FBZ0NILG1CQUFoQyxFQUNILENBTkQsRSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBoZXBsLW1taS9tZWV0LWFqYXhcbiAqXG4gKiAvanMvc2NyaXB0LmpzIC0gRGlzY292ZXIgQUpBWCB3aXRoIGpRdWVyeVxuICpcbiAqIGNvZGVkIGJ5IGxlbnlAZmxhdExhbmQhXG4gKiBzdGFydGVkIGF0IDIwLzAyLzIwMTdcbiAqL1xuXG5sZXQgJGZvcm0sXG4gICAgJHRwbEVycm9yTWVzc2FnZSxcbiAgICAkdHBsQnVkZHksXG4gICAgJGJ1ZGRpZXNDb250YWluZXI7XG5cbmNvbnN0IGZIYW5kbGVTdWJtaXQgPSBmdW5jdGlvbihvRXZlbnQpIHtcbiAgICBsZXQgJG5hbWVJbnB1dCA9ICRmb3JtLmZpbmQoXCJpbnB1dFtuYW1lPSduYW1lJ11cIiksXG4gICAgICAgICRkZXNjcmlwdGlvblRleHRhcmVhID0gJGZvcm0uZmluZChcInRleHRhcmVhW25hbWU9J2Rlc2NyaXB0aW9uJ11cIiksXG4gICAgICAgIHNOYW1lLCBzRGVzY3JpcHRpb24sXG4gICAgICAgIGJIYXNFcnJvcnMgPSBmYWxzZTtcblxuICAgIG9FdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgJGZvcm0uZmluZChcIi5oYXMtZXJyb3JcIikucmVtb3ZlQ2xhc3MoXCJoYXMtZXJyb3JcIik7XG4gICAgJGZvcm0uZmluZCgnLmFsZXJ0LmFsZXJ0LWRhbmdlcicpLnJlbW92ZSgpO1xuXG4gICAgc05hbWUgPSAoJG5hbWVJbnB1dC52YWwoKSB8fCBcIlwiKS50cmltKCk7XG4gICAgc0Rlc2NyaXB0aW9uID0gKCRkZXNjcmlwdGlvblRleHRhcmVhLnZhbCgpIHx8IFwiXCIpLnRyaW0oKTtcblxuICAgIGlmKCFzTmFtZSkge1xuICAgICAgICBiSGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgJG5hbWVJbnB1dC5wYXJlbnQoKS5hZGRDbGFzcyhcImhhcy1lcnJvclwiKTtcbiAgICB9XG5cbiAgICBpZighc0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgIGJIYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICAkZGVzY3JpcHRpb25UZXh0YXJlYS5wYXJlbnQoKS5hZGRDbGFzcyhcImhhcy1lcnJvclwiKTtcbiAgICB9XG5cbiAgICBpZihiSGFzRXJyb3JzKSB7XG4gICAgICAgICRmb3JtLmZpbmQoXCJmaWVsZHNldFwiKS5wcmVwZW5kKCR0cGxFcnJvck1lc3NhZ2UuY2xvbmUoKSk7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKFwiRm9ybSBoYXMgZXJyb3JzLlwiKTtcbiAgICB9XG5cbiAgICAkLmFqYXgoJGZvcm0uYXR0cihcImFjdGlvblwiKSwge1xuICAgICAgICBcIm1ldGhvZFwiOiBcIlBPU1RcIixcbiAgICAgICAgXCJkYXRhVHlwZVwiOiBcImpzb25cIixcbiAgICAgICAgXCJkYXRhXCI6IHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBzTmFtZSxcbiAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogc0Rlc2NyaXB0aW9uLFxuICAgICAgICB9LFxuICAgICAgICBcImVycm9yXCI6IGZ1bmN0aW9uKG9YSFIsIHNTdGF0dXMsIHNFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihzU3RhdHVzLCBzRXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ob1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICBsZXQgJGJ1ZGR5ID0gJHRwbEJ1ZGR5LmNsb25lKCk7XG5cbiAgICAgICAgICAgICRidWRkeVxuICAgICAgICAgICAgICAgIC5maW5kKFwiLnRodW1ibmFpbFwiKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInRpdGxlXCIsIG9SZXNwb25zZS5kZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoXCJpbWdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwic3JjXCIsIG9SZXNwb25zZS5hdmF0YXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImFsdFwiLCBvUmVzcG9uc2UuYWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKFwic3Ryb25nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dChvUmVzcG9uc2UubmFtZSk7XG4gICAgICAgICAgICAkYnVkZGllc0NvbnRhaW5lci5hcHBlbmQoJGJ1ZGR5KTtcblxuICAgICAgICAgICAgJGZvcm1bMF0ucmVzZXQoKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5cbmNvbnN0IGZIYW5kbGVDbGVhbkJ1ZGRpZXMgPSBmdW5jdGlvbiAob0V2ZW50KSB7XG4gICAgb0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkLmdldCgkKHRoaXMpLmF0dHIoXCJocmVmXCIpKTtcbiAgICAkYnVkZGllc0NvbnRhaW5lci5lbXB0eSgpO1xufTtcblxuJChmdW5jdGlvbigpIHtcbiAgICAoJGZvcm0gPSAkKFwiZm9ybVwiKSkub24oXCJzdWJtaXRcIiwgZkhhbmRsZVN1Ym1pdCk7XG4gICAgJHRwbEVycm9yTWVzc2FnZSA9ICQoJChcIiNmb3JtLWVycm9yLW1lc3NhZ2VcIikuaHRtbCgpKTtcbiAgICAkdHBsQnVkZHkgPSAkKCQoXCIjYnVkZHktZWxlbWVudFwiKS5odG1sKCkpO1xuICAgICRidWRkaWVzQ29udGFpbmVyID0gJChcIiNidWRkaWVzLWNvbnRhaW5lclwiKTtcbiAgICAkKFwiI2NsZWFuLWJ1ZGRpZXNcIikub24oXCJjbGlja1wiLCBmSGFuZGxlQ2xlYW5CdWRkaWVzKTtcbn0pO1xuIl19
