;(function(){"use strict";var $form=void 0,$tplErrorMessage=void 0,$tplBuddy=void 0,$buddiesContainer=void 0;var fHandleSubmit=function fHandleSubmit(oEvent){var $nameInput=$form.find("input[name='name']"),$descriptionTextarea=$form.find("textarea[name='description']"),sName=void 0,sDescription=void 0,bHasErrors=false;oEvent.preventDefault();$form.find(".has-error").removeClass("has-error");$form.find('.alert.alert-danger').remove();sName=($nameInput.val()||"").trim();sDescription=($descriptionTextarea.val()||"").trim();if(!sName){bHasErrors=true;$nameInput.parent().addClass("has-error");}if(!sDescription){bHasErrors=true;$descriptionTextarea.parent().addClass("has-error");}if(bHasErrors){$form.find("fieldset").prepend($tplErrorMessage.clone());return console.error("Form has errors.");}$.ajax("./",{"method":"POST","dataType":"json","data":{"name":sName,"description":sDescription},"error":function error(oXHR,sStatus,sError){console.error(sStatus,sError);},"success":function success(oResponse){var $buddy=$tplBuddy.clone();$buddy.find(".thumbnail").attr("title",oResponse.description).find("img").attr("src",oResponse.avatar).attr("alt",oResponse.alt).end().find("strong").text(oResponse.name);$buddiesContainer.append($buddy);$form[0].reset();}});};$(function(){($form=$("form")).on("submit",fHandleSubmit);$tplErrorMessage=$($("#form-error-message").html());$tplBuddy=$($("#buddy-element").html());$buddiesContainer=$("#buddies-container");});})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkZm9ybSIsIiR0cGxFcnJvck1lc3NhZ2UiLCIkdHBsQnVkZHkiLCIkYnVkZGllc0NvbnRhaW5lciIsImZIYW5kbGVTdWJtaXQiLCJvRXZlbnQiLCIkbmFtZUlucHV0IiwiZmluZCIsIiRkZXNjcmlwdGlvblRleHRhcmVhIiwic05hbWUiLCJzRGVzY3JpcHRpb24iLCJiSGFzRXJyb3JzIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsInZhbCIsInRyaW0iLCJwYXJlbnQiLCJhZGRDbGFzcyIsInByZXBlbmQiLCJjbG9uZSIsImNvbnNvbGUiLCJlcnJvciIsIiQiLCJhamF4Iiwib1hIUiIsInNTdGF0dXMiLCJzRXJyb3IiLCJvUmVzcG9uc2UiLCIkYnVkZHkiLCJhdHRyIiwiZGVzY3JpcHRpb24iLCJhdmF0YXIiLCJhbHQiLCJlbmQiLCJ0ZXh0IiwibmFtZSIsImFwcGVuZCIsInJlc2V0Iiwib24iLCJodG1sIl0sIm1hcHBpbmdzIjoiMEJBUUEsR0FBSUEsYUFBSixDQUNJQyx1QkFESixDQUVJQyxnQkFGSixDQUdJQyx3QkFISixDQUtBLEdBQU1DLGVBQWdCLFFBQWhCQSxjQUFnQixDQUFTQyxNQUFULENBQWlCLENBQ25DLEdBQUlDLFlBQWFOLE1BQU1PLElBQU4sQ0FBVyxvQkFBWCxDQUFqQixDQUNJQyxxQkFBdUJSLE1BQU1PLElBQU4sQ0FBVyw4QkFBWCxDQUQzQixDQUVJRSxZQUZKLENBRVdDLG1CQUZYLENBR0lDLFdBQWEsS0FIakIsQ0FLQU4sT0FBT08sY0FBUCxHQUVBWixNQUFNTyxJQUFOLENBQVcsWUFBWCxFQUF5Qk0sV0FBekIsQ0FBcUMsV0FBckMsRUFDQWIsTUFBTU8sSUFBTixDQUFXLHFCQUFYLEVBQWtDTyxNQUFsQyxHQUVBTCxNQUFRLENBQUNILFdBQVdTLEdBQVgsSUFBb0IsRUFBckIsRUFBeUJDLElBQXpCLEVBQVIsQ0FDQU4sYUFBZSxDQUFDRixxQkFBcUJPLEdBQXJCLElBQThCLEVBQS9CLEVBQW1DQyxJQUFuQyxFQUFmLENBRUEsR0FBRyxDQUFDUCxLQUFKLENBQVcsQ0FDUEUsV0FBYSxJQUFiLENBQ0FMLFdBQVdXLE1BQVgsR0FBb0JDLFFBQXBCLENBQTZCLFdBQTdCLEVBQ0gsQ0FFRCxHQUFHLENBQUNSLFlBQUosQ0FBa0IsQ0FDZEMsV0FBYSxJQUFiLENBQ0FILHFCQUFxQlMsTUFBckIsR0FBOEJDLFFBQTlCLENBQXVDLFdBQXZDLEVBQ0gsQ0FFRCxHQUFHUCxVQUFILENBQWUsQ0FDWFgsTUFBTU8sSUFBTixDQUFXLFVBQVgsRUFBdUJZLE9BQXZCLENBQStCbEIsaUJBQWlCbUIsS0FBakIsRUFBL0IsRUFDQSxNQUFPQyxTQUFRQyxLQUFSLENBQWMsa0JBQWQsQ0FBUCxDQUNILENBRURDLEVBQUVDLElBQUYsQ0FBTyxJQUFQLENBQWEsQ0FDVCxTQUFVLE1BREQsQ0FFVCxXQUFZLE1BRkgsQ0FHVCxPQUFRLENBQ0osT0FBUWYsS0FESixDQUVKLGNBQWVDLFlBRlgsQ0FIQyxDQU9ULFFBQVMsZUFBU2UsSUFBVCxDQUFlQyxPQUFmLENBQXdCQyxNQUF4QixDQUFnQyxDQUNyQ04sUUFBUUMsS0FBUixDQUFjSSxPQUFkLENBQXVCQyxNQUF2QixFQUNILENBVFEsQ0FVVCxVQUFXLGlCQUFTQyxTQUFULENBQW9CLENBQzNCLEdBQUlDLFFBQVMzQixVQUFVa0IsS0FBVixFQUFiLENBRUFTLE9BQ0t0QixJQURMLENBQ1UsWUFEVixFQUVTdUIsSUFGVCxDQUVjLE9BRmQsQ0FFdUJGLFVBQVVHLFdBRmpDLEVBR1N4QixJQUhULENBR2MsS0FIZCxFQUlhdUIsSUFKYixDQUlrQixLQUpsQixDQUl5QkYsVUFBVUksTUFKbkMsRUFLYUYsSUFMYixDQUtrQixLQUxsQixDQUt5QkYsVUFBVUssR0FMbkMsRUFNYUMsR0FOYixHQU9TM0IsSUFQVCxDQU9jLFFBUGQsRUFRYTRCLElBUmIsQ0FRa0JQLFVBQVVRLElBUjVCLEVBU0FqQyxrQkFBa0JrQyxNQUFsQixDQUF5QlIsTUFBekIsRUFFQTdCLE1BQU0sQ0FBTixFQUFTc0MsS0FBVCxHQUNILENBekJRLENBQWIsRUEyQkgsQ0F4REQsQ0EwREFmLEVBQUUsVUFBVyxDQUNULENBQUN2QixNQUFRdUIsRUFBRSxNQUFGLENBQVQsRUFBb0JnQixFQUFwQixDQUF1QixRQUF2QixDQUFpQ25DLGFBQWpDLEVBQ0FILGlCQUFtQnNCLEVBQUVBLEVBQUUscUJBQUYsRUFBeUJpQixJQUF6QixFQUFGLENBQW5CLENBQ0F0QyxVQUFZcUIsRUFBRUEsRUFBRSxnQkFBRixFQUFvQmlCLElBQXBCLEVBQUYsQ0FBWixDQUNBckMsa0JBQW9Cb0IsRUFBRSxvQkFBRixDQUFwQixDQUNILENBTEQsRSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBoZXBsLW1taS9tZWV0LWFqYXhcbiAqXG4gKiAvanMvc2NyaXB0LmpzIC0gRGlzY292ZXIgQUpBWCB3aXRoIGpRdWVyeVxuICpcbiAqIGNvZGVkIGJ5IGxlbnlAZmxhdExhbmQhXG4gKiBzdGFydGVkIGF0IDIwLzAyLzIwMTdcbiAqL1xuXG5sZXQgJGZvcm0sXG4gICAgJHRwbEVycm9yTWVzc2FnZSxcbiAgICAkdHBsQnVkZHksXG4gICAgJGJ1ZGRpZXNDb250YWluZXI7XG5cbmNvbnN0IGZIYW5kbGVTdWJtaXQgPSBmdW5jdGlvbihvRXZlbnQpIHtcbiAgICBsZXQgJG5hbWVJbnB1dCA9ICRmb3JtLmZpbmQoXCJpbnB1dFtuYW1lPSduYW1lJ11cIiksXG4gICAgICAgICRkZXNjcmlwdGlvblRleHRhcmVhID0gJGZvcm0uZmluZChcInRleHRhcmVhW25hbWU9J2Rlc2NyaXB0aW9uJ11cIiksXG4gICAgICAgIHNOYW1lLCBzRGVzY3JpcHRpb24sXG4gICAgICAgIGJIYXNFcnJvcnMgPSBmYWxzZTtcblxuICAgIG9FdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgJGZvcm0uZmluZChcIi5oYXMtZXJyb3JcIikucmVtb3ZlQ2xhc3MoXCJoYXMtZXJyb3JcIik7XG4gICAgJGZvcm0uZmluZCgnLmFsZXJ0LmFsZXJ0LWRhbmdlcicpLnJlbW92ZSgpO1xuXG4gICAgc05hbWUgPSAoJG5hbWVJbnB1dC52YWwoKSB8fCBcIlwiKS50cmltKCk7XG4gICAgc0Rlc2NyaXB0aW9uID0gKCRkZXNjcmlwdGlvblRleHRhcmVhLnZhbCgpIHx8IFwiXCIpLnRyaW0oKTtcblxuICAgIGlmKCFzTmFtZSkge1xuICAgICAgICBiSGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgJG5hbWVJbnB1dC5wYXJlbnQoKS5hZGRDbGFzcyhcImhhcy1lcnJvclwiKTtcbiAgICB9XG5cbiAgICBpZighc0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgIGJIYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICAkZGVzY3JpcHRpb25UZXh0YXJlYS5wYXJlbnQoKS5hZGRDbGFzcyhcImhhcy1lcnJvclwiKTtcbiAgICB9XG5cbiAgICBpZihiSGFzRXJyb3JzKSB7XG4gICAgICAgICRmb3JtLmZpbmQoXCJmaWVsZHNldFwiKS5wcmVwZW5kKCR0cGxFcnJvck1lc3NhZ2UuY2xvbmUoKSk7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKFwiRm9ybSBoYXMgZXJyb3JzLlwiKTtcbiAgICB9XG5cbiAgICAkLmFqYXgoXCIuL1wiLCB7XG4gICAgICAgIFwibWV0aG9kXCI6IFwiUE9TVFwiLFxuICAgICAgICBcImRhdGFUeXBlXCI6IFwianNvblwiLFxuICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgXCJuYW1lXCI6IHNOYW1lLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBzRGVzY3JpcHRpb24sXG4gICAgICAgIH0sXG4gICAgICAgIFwiZXJyb3JcIjogZnVuY3Rpb24ob1hIUiwgc1N0YXR1cywgc0Vycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHNTdGF0dXMsIHNFcnJvcik7XG4gICAgICAgIH0sXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbihvUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGxldCAkYnVkZHkgPSAkdHBsQnVkZHkuY2xvbmUoKTtcblxuICAgICAgICAgICAgJGJ1ZGR5XG4gICAgICAgICAgICAgICAgLmZpbmQoXCIudGh1bWJuYWlsXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwidGl0bGVcIiwgb1Jlc3BvbnNlLmRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgICAgICAgICAuZmluZChcImltZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJzcmNcIiwgb1Jlc3BvbnNlLmF2YXRhcilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiYWx0XCIsIG9SZXNwb25zZS5hbHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoXCJzdHJvbmdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KG9SZXNwb25zZS5uYW1lKTtcbiAgICAgICAgICAgICRidWRkaWVzQ29udGFpbmVyLmFwcGVuZCgkYnVkZHkpO1xuXG4gICAgICAgICAgICAkZm9ybVswXS5yZXNldCgpO1xuICAgICAgICB9LFxuICAgIH0pO1xufTtcblxuJChmdW5jdGlvbigpIHtcbiAgICAoJGZvcm0gPSAkKFwiZm9ybVwiKSkub24oXCJzdWJtaXRcIiwgZkhhbmRsZVN1Ym1pdCk7XG4gICAgJHRwbEVycm9yTWVzc2FnZSA9ICQoJChcIiNmb3JtLWVycm9yLW1lc3NhZ2VcIikuaHRtbCgpKTtcbiAgICAkdHBsQnVkZHkgPSAkKCQoXCIjYnVkZHktZWxlbWVudFwiKS5odG1sKCkpO1xuICAgICRidWRkaWVzQ29udGFpbmVyID0gJChcIiNidWRkaWVzLWNvbnRhaW5lclwiKTtcbn0pO1xuIl19
